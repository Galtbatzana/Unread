(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{5138:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(6615)}])},8431:function(e,t,n){"use strict";n.d(t,{x:function(){return u}});var i=n(2322),r=n(9604),o=n(5598),a=n(3196),l=n.n(a),s=n(7841),c=n(8329),d=n(3125),u=function(e){var t=e.icon,n=e.showProBadge,a=e.title,u=e.subtitle;return(0,i.jsx)(d.E.div,{className:l().innerPageHeader,initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:(0,i.jsxs)(o.VStack,{children:[t?(0,i.jsx)(r.J,{size:"32",marginRight:"0",name:t,color:"var(--clr-brand)"}):null,n?(0,i.jsx)(c.Z,{height:"24"}):null,(0,i.jsx)(s.x,{size:4,weight:"600",mono:!1,tag:"h1",appearance:"primary",children:a}),(0,i.jsx)("div",{style:{maxWidth:"72ch"},children:(0,i.jsx)(s.x,{size:1,weight:"500",mono:!1,tag:"p",letterSpacing:"0.3px",appearance:"secondary",lineHeight:"1.5",align:"center",children:u})})]})})}},6615:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i=n(2322),r=n(7729),o=n.n(r),a=n(5632),l=n(9097),s=n.n(l),c=n(2784),d=n(3290),u=n(3947),h=n(4675);function g(e){var t,n=e.providerName,i=e.email;return i?function(e){var t={url:"".concat(window.location.origin,"/login"),handleCodeInApp:!0};return(0,u.oo)(h.I8,e,t).then((function(){window.localStorage.setItem("emailForSignIn",e)})).catch((function(e){console.error(e.code,e)}))}(i):("github"===n?t=new u.GH:"twitter"===n?t=new u.c4:"google"===n&&(t=new u.hJ).addScope("https://www.googleapis.com/auth/userinfo.profile"),(0,u.rh)(h.I8,t).then((function(){(0,d.q)({name:"loggedIn"}),window.localStorage.setItem("lastAuthProvider",n)})).catch((function(e){console.log(e),"auth/account-exists-with-different-credential"===e.code?alert("You have already signed up with the same email using different social login. Eg. If it was Twitter previously, use Twitter now too."):"auth/web-storage-unsupported"===e.code&&alert("Please allow 3rd party cookies in your browser for login. Or try a different browser.")})))}var m=n(865),p=n(6670),f=n(6297),x=n(2220);function w(e){var t=e.type;return"github"===t?(0,i.jsx)("svg",{style:{width:16,height:16},viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"})}):"twitter"===t?(0,i.jsx)("svg",{style:{width:16,height:16},viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"currentColor",d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})}):"google"===t?(0,i.jsx)("svg",{style:{width:16,height:16},viewBox:"0 0 24 24",children:(0,i.jsx)("path",{fill:"currentColor",d:"M21.35 11.1h-9.17v2.73h6.51c-.33 3.81-3.5 5.44-6.5 5.44C8.36 19.27 5 16.25 5 12c0-4.1 3.2-7.27 7.2-7.27 3.09 0 4.9 1.97 4.9 1.97L19 4.72S16.56 2 12.1 2C6.42 2 2.03 6.8 2.03 12c0 5.05 4.13 10 10.22 10 5.35 0 9.25-3.67 9.25-9.09 0-1.15-.15-1.81-.15-1.81z"})}):null}var v=function(e){var t=e.type,n=e.lastAuthProvider,r=e.children,o=(0,f.Z)(e,["type","lastAuthProvider","children"]);return(0,i.jsxs)(x.z,(0,p.Z)((0,m.Z)({extraClasses:"button--login button--".concat(t)},o),{children:[(0,i.jsx)(w,{type:t}),"Sign in with ",r," ",n===t?"(last used)":""]}))},j=n(3552),y=n(9241),S=n(1251),b=n(7841),P=n(5416),C=n(5598),I=n(8431),k=function(){var e=function(){f&&window.localStorage.setItem("pendingNewsletterEmailSubscription",!0)},t=function(t){e(),g({providerName:t})},n=(0,a.useRouter)(),r=(0,c.useContext)(j.S),l=(0,c.useState)(),d=l[0],m=l[1];(0,c.useEffect)((function(){m(window.localStorage.getItem("lastAuthProvider"))}),[]);var p=(0,c.useState)(!1),f=p[0],w=p[1];(0,c.useEffect)((function(){if(r){var e=window.localStorage.getItem("beforeLoginLocation");e?(window.localStorage.removeItem("beforeLoginLocation"),n.replace(e)):n.replace("/")}}),[r]);var k=(0,c.useState)(),N=k[0],_=k[1],E=(0,c.useState)(),A=E[0],B=E[1],T=(0,c.useState)(""),z=T[0],H=T[1],L=n.asPath.match(/apiKey=/);return(0,c.useEffect)((function(){new URLSearchParams(window.location.search).get("apiKey")&&function(){if((0,u.JB)(h.I8,window.location.href)){var e=window.localStorage.getItem("emailForSignIn");return e||(e=window.prompt("Please provide your email for confirmation")),e?(0,u.P6)(h.I8,e,window.location.href).then((function(e){window.localStorage.removeItem("emailForSignIn"),window.localStorage.setItem("lastAuthProvider","email")})).catch((function(e){})):Promise.reject()}Promise.reject()}()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o(),{children:(0,i.jsx)("title",{children:"Login | CSSBattle"})}),(0,i.jsx)("div",{className:"login-background"}),(0,i.jsx)(I.x,{title:"Sign up / Sign in"}),(0,i.jsx)("div",{style:{marginTop:"1rem"},children:(0,i.jsxs)(C.HStack,{justify:"center",children:[(0,i.jsxs)("div",{style:{opacity:L?.2:1,filter:L?"blur(3px)":null,pointerEvents:L?"none":"initial"},children:[(0,i.jsx)(P.s,{children:(0,i.jsxs)("div",{className:"login-form-container",children:[d?null:(0,i.jsxs)("div",{children:[(0,i.jsx)(S.XZ,{label:"Subscribe to CSSBattle's monthly newsletter",checked:f,onChange:function(e){return w(e.target.checked)}}),(0,i.jsx)("hr",{style:{marginTop:"-1rem"}})]}),(0,i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),z&&(B(!0),e(),g({email:z}).then((function(){B(!1),_(!0)})))},children:[(0,i.jsxs)("div",{className:"input-container",style:{marginBottom:"1rem"},children:[(0,i.jsxs)("div",{className:"input-with-button",children:[(0,i.jsx)("input",{type:"email",id:"email",onInput:function(e){return H(e.target.value)},placeholder:"example@domain.com"}),(0,i.jsxs)(x.z,{type:"submit",isLoading:A,children:["Sign in with Email"," ","email"===d?" (last used)":""]})]}),(0,i.jsx)("p",{className:"input-hint",children:"This is a password-less login, so you don't need a password."})]}),(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}})]}),N&&(0,i.jsx)("div",{style:{padding:"0.5rem 1rem",background:"#276827",borderRadius:"5px",marginBottom:"2rem"},children:(0,i.jsxs)(b.x,{mono:!1,weight:500,align:"center",size:1,children:["A password-less login link has been sent to your email (",z,")"]})}),(0,i.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"2rem"},children:[(0,i.jsx)("hr",{style:{margin:"0 1rem 0 10rem",flex:1}}),(0,i.jsx)("span",{style:{margin:0},children:"OR"}),(0,i.jsx)("hr",{style:{margin:"0 10rem 0 1rem",flex:1}})]}),(0,i.jsxs)("p",{className:"login-buttons-container",children:[(0,i.jsx)(v,{type:"github",id:"login",lastAuthProvider:d,onClick:function(){return t("github")},children:"Github"}),(0,i.jsx)(v,{type:"twitter",lastAuthProvider:d,onClick:function(){return t("twitter")},children:"Twitter"}),(0,i.jsx)(v,{type:"google",lastAuthProvider:d,onClick:function(){return t("google")},children:"Google"})]})]})]})}),(0,i.jsxs)("p",{className:"para login-disclaimer",children:["By using CSSBattle, you agree to our"," ",(0,i.jsx)(s(),{className:"link",href:"/privacy-and-terms",children:"Privacy Policy and Terms of Service"})]})]}),L?(0,i.jsx)("div",{style:{position:"absolute",top:"40%"},children:(0,i.jsx)(P.s,{children:(0,i.jsxs)(C.HStack,{align:"center",children:["Logging you in...",(0,i.jsx)(y.a,{})]})})}):null]})})]})}},3196:function(e){e.exports={innerPageHeader:"InnerPageHeader_innerPageHeader__HSMOC"}}},function(e){e.O(0,[9774,2888,179],(function(){return t=5138,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=login-e620dd9c4a29bb26.js.map